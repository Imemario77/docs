---
title: E-commerce order management workflow
subtitle: Build an AI customer service workflow that handles orders, returns, and support using Vapi workflows.
slug: workflows/examples/ecommerce-order-management
description: Build a voice AI e-commerce workflow with order tracking, return processing, and customer support automation using Vapi's visual workflow builder.
---

## Overview

Build an AI-powered e-commerce customer service workflow that handles order inquiries, returns, and customer support using Vapi workflows with tier-based routing and global monitoring for comprehensive automation.

**What You'll Build:**
* Order tracking with real-time status updates
* Return processing with automated eligibility verification
* Customer tier routing (VIP, Premium, Standard)
* Global fraud detection and sentiment monitoring

## Prerequisites

* A [Vapi account](https://dashboard.vapi.ai/).
* E-commerce platform or order management system.
* Shipping carrier integrations.

## Scenario

We will be creating an order management workflow for TechGear Online, an electronics retailer that wants to automate customer service calls and improve order resolution times through sophisticated workflow automation.

---

## 1. Create a Knowledge Base

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="Download the spreadsheets">
        <div className="flex gap-2">
          <Download src="../../static/spreadsheets/ecommerce/customers.csv">
            <Button intent="primary">Download customers.csv</Button>
          </Download>
          <Download src="../../static/spreadsheets/ecommerce/orders.csv">
            <Button intent="primary">Download orders.csv</Button>
          </Download>
          <Download src="../../static/spreadsheets/ecommerce/products.csv">
            <Button intent="primary">Download products.csv</Button>
          </Download>
        </div>
      </Step>
      <Step title="Navigate to the Files section">
        In your Vapi dashboard, click `Files` in the left sidebar.
      </Step>
      <Step title="Upload the spreadsheets">
        - Click `Choose file`. Upload all three CSV files: `customers.csv`, `orders.csv`, and `products.csv`.
        - Note the file IDs. We'll need them later to create tools.

        <video autoPlay loop muted src="../../static/videos/upload-files.mp4" type="video/mp4" style={{ aspectRatio: '16 / 9', width: '100%' }} />
      </Step>
    </Steps>
  </Tab>
  <Tab title="Web SDK + TypeScript">
    For web-based ecommerce applications:

    ```bash
    npm install @vapi-ai/web
    ```

    ```typescript
    import Vapi from '@vapi-ai/web';

    interface EcommerceOrderConfig {
      publicApiKey: string;
      workflowId: string;
    }

    function createEcommerceOrderWorkflow(config: EcommerceOrderConfig) {
      const vapi = new Vapi(config.publicApiKey);
      let isConnected = false;
      let currentCustomer: any = null;

      // Setup event listeners
      vapi.on('call-start', () => {
        isConnected = true;
        console.log('Ecommerce order workflow call started');
      });

      vapi.on('call-end', () => {
        isConnected = false;
        console.log('Order workflow call ended');
        processOrderOutcome();
      });

      vapi.on('message', (message) => {
        if (message.type === 'transcript') {
          console.log(`${message.role}: ${message.transcript}`);
        } else if (message.type === 'function-call') {
          handleOrderFunction(message.functionCall);
        } else if (message.type === 'workflow-step') {
          console.log('Order workflow step:', message.step);
        }
      });

      vapi.on('error', (error) => {
        console.error('Order workflow error:', error);
      });

      function handleOrderFunction(functionCall: { name: string; parameters: Record<string, unknown> }) {
        switch (functionCall.name) {
          case 'lookup_order':
            console.log('Looking up order:', functionCall.parameters);
            break;
          case 'update_shipping':
            console.log('Updating shipping:', functionCall.parameters);
            break;
          case 'process_return':
            console.log('Processing return:', functionCall.parameters);
            break;
          case 'send_notification':
            console.log('Sending notification:', functionCall.parameters);
            break;
          default:
            console.log('Order function called:', functionCall.name, functionCall.parameters);
        }
      }

      function processOrderOutcome() {
        console.log('Processing order outcome for customer:', currentCustomer);
      }

      return {
        startOrderCall: (customerData?: any) => {
          if (!isConnected) {
            currentCustomer = customerData;
            vapi.start(config.workflowId);
          }
        },
        endCall: () => {
          if (isConnected) {
            vapi.stop();
          }
        },
        isConnected: () => isConnected
      };
    }

    // Usage for ecommerce order management
    const orderWorkflow = createEcommerceOrderWorkflow({
      publicApiKey: 'YOUR_PUBLIC_API_KEY',
      workflowId: 'YOUR_ORDER_WORKFLOW_ID'
    });

    // Start order support call
    orderWorkflow.startOrderCall({
      customerId: 'CUST123',
      orderNumber: 'ORD-456789',
      issue: 'shipping delay'
    });
    ```

    <Note>
      For actual file uploads (orders.csv, customers.csv, etc.), use the Server SDK or Dashboard. Web SDK is for managing live order support conversations.
    </Note>
  </Tab>
  <Tab title="Server SDK + TypeScript">
    ```typescript
    import { Vapi } from "@vapi-ai/server-sdk";
    import fs from 'fs';

    const vapi = new Vapi({ apiKey: "YOUR_VAPI_API_KEY" });

    async function uploadEcommerceFiles() {
      try {
        // Upload customers file
        const customersFile = await vapi.files.create({
          file: fs.createReadStream("customers.csv")
        });

        // Upload orders file
        const ordersFile = await vapi.files.create({
          file: fs.createReadStream("orders.csv")
        });

        // Upload products file
        const productsFile = await vapi.files.create({
          file: fs.createReadStream("products.csv")
        });

        console.log(`Customers file ID: ${customersFile.id}`);
        console.log(`Orders file ID: ${ordersFile.id}`);
        console.log(`Products file ID: ${productsFile.id}`);

        return {
          customersFileId: customersFile.id,
          ordersFileId: ordersFile.id,
          productsFileId: productsFile.id
        };
      } catch (error) {
        console.error('Error uploading files:', error);
        throw error;
      }
    }

    // Upload all files
    const fileIds = await uploadEcommerceFiles();
    ```
  </Tab>
  <Tab title="Server SDK + Python">
    ```python
    import requests

    def upload_file(file_path):
        url = "https://api.vapi.ai/file"
        headers = {"Authorization": f"Bearer {YOUR_VAPI_API_KEY}"}
        
        with open(file_path, 'rb') as file:
            files = {'file': file}
            response = requests.post(url, headers=headers, files=files)
            return response.json()

    # Upload all required files
    customers_file = upload_file("customers.csv")
    orders_file = upload_file("orders.csv")
    products_file = upload_file("products.csv")

    print(f"Customers file ID: {customers_file['id']}")
    print(f"Orders file ID: {orders_file['id']}")
    print(f"Products file ID: {products_file['id']}")
    ```
  </Tab>
  <Tab title="cURL">
    ```bash
    # Upload customers.csv
    curl -X POST https://api.vapi.ai/file \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -F "file=@customers.csv"

    # Upload orders.csv
    curl -X POST https://api.vapi.ai/file \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -F "file=@orders.csv"

    # Upload products.csv
    curl -X POST https://api.vapi.ai/file \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -F "file=@products.csv"
    ```
  </Tab>
</Tabs>

---

## 2. Create Required Tools

<Tabs>
  <Tab title="Dashboard">
    Before building the workflow, create the necessary tools in your dashboard:

    <Steps>
      <Step title="Navigate to Tools">
        In your Vapi dashboard, click **Tools** in the left sidebar.
      </Step>
      <Step title="Create Customer Lookup Tool">
        Click **Create Tool** and configure:
        - **Tool Name**: "Customer Lookup"
        - **Tool Type**: "Function"
        - **Function Name**: `lookup_customer`
        - **Description**: "Look up customer account and order history"
        - **Parameters**:
          - `customer_id` (string): Customer ID to lookup
        - **Server URL**: `https://jsonplaceholder.typicode.com/users`
        
        <Note>
          This example uses JSONPlaceholder, a free testing API. In production, replace with your actual e-commerce API endpoint.
        </Note>
      </Step>
      <Step title="Create Order Tracking Tool">
        Create another tool:
        - **Tool Name**: "Order Tracking"
        - **Function Name**: `track_order`
        - **Description**: "Track order status and shipping information"
        - **Parameters**:
          - `order_id` (string): Order ID to track
        - **Server URL**: `https://jsonplaceholder.typicode.com/posts`
        
        <Note>
          This example uses JSONPlaceholder for demonstration. Replace with your shipping provider's API (FedEx, UPS, etc.) in production.
        </Note>
      </Step>
      <Step title="Create Return Processing Tool">
        Create a third tool:
        - **Tool Name**: "Return Processing"
        - **Function Name**: `process_return`
        - **Description**: "Process return requests and generate return labels"
        - **Parameters**:
          - `order_id` (string): Original order ID
          - `return_reason` (string): Reason for return
        - **Server URL**: `https://jsonplaceholder.typicode.com/posts`
        
        <Note>
          This example uses JSONPlaceholder for demonstration. In production, integrate with your returns management system.
        </Note>
      </Step>
    </Steps>
  </Tab>
  <Tab title="cURL">
    ```bash
    # Create Customer Lookup Tool
    curl -X POST https://api.vapi.ai/tool \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "type": "function",
           "function": {
             "name": "lookup_customer",
             "description": "Look up customer account and order history",
             "parameters": {
               "type": "object",
               "properties": {
                 "customer_id": {
                   "type": "string",
                   "description": "Customer ID to lookup"
                 }
               },
               "required": ["customer_id"]
             }
           },
           "serverUrl": "https://jsonplaceholder.typicode.com/users"
         }'

    # Create Order Tracking Tool
    curl -X POST https://api.vapi.ai/tool \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "type": "function",
           "function": {
             "name": "track_order",
             "description": "Track order status and shipping information",
             "parameters": {
               "type": "object",
               "properties": {
                 "order_id": {
                   "type": "string",
                   "description": "Order ID to track"
                 }
               },
               "required": ["order_id"]
             }
           },
           "serverUrl": "https://jsonplaceholder.typicode.com/posts"
         }'

    # Create Return Processing Tool
    curl -X POST https://api.vapi.ai/tool \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "type": "function",
           "function": {
             "name": "process_return",
             "description": "Process return requests and generate return labels",
             "parameters": {
               "type": "object",
               "properties": {
                 "order_id": {
                   "type": "string",
                   "description": "Original order ID"
                 },
                 "return_reason": {
                   "type": "string",
                   "description": "Reason for return"
                 }
               },
               "required": ["order_id", "return_reason"]
             }
           },
           "serverUrl": "https://jsonplaceholder.typicode.com/posts"
         }'
    ```
  </Tab>
  <Tab title="Server SDK + Python">
    ```python
    import requests

    def upload_file(file_path):
        url = "https://api.vapi.ai/file"
        headers = {"Authorization": f"Bearer {YOUR_VAPI_API_KEY}"}
        
        with open(file_path, 'rb') as file:
            files = {'file': file}
            response = requests.post(url, headers=headers, files=files)
            return response.json()

    # Upload all required files
    customers_file = upload_file("customers.csv")
    orders_file = upload_file("orders.csv")
    products_file = upload_file("products.csv")

    print(f"Customers file ID: {customers_file['id']}")
    print(f"Orders file ID: {orders_file['id']}")
    print(f"Products file ID: {products_file['id']}")
    ```
  </Tab>
</Tabs>

---

## 3. Create a Workflow

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="Open the Vapi Dashboard">
        Go to [dashboard.vapi.ai](https://dashboard.vapi.ai) and log in to your account.
      </Step>
      <Step title="Navigate to the Workflows section">
        Click `Workflows` in the left sidebar.
      </Step>
      <Step title="Create a new workflow">
        - Click `Create Workflow`.
        - Enter workflow name: `TechGear E-commerce Support Workflow`.
        - Select the default template (includes Call Start node).
        - Click "Create Workflow".

        <video autoPlay loop muted src="../../static/videos/workflows/create-workflow.mp4" type="video/mp4" style={{ aspectRatio: '16 / 9', width: '100%' }} />
      </Step>
    </Steps>
  </Tab>
  <Tab title="cURL">
    ```bash
    curl -X POST https://api.vapi.ai/workflow \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "name": "TechGear E-commerce Support Workflow",
           "nodes": [
             {
               "id": "greeting",
               "type": "conversation",
               "firstMessage": "Hello! Thank you for calling TechGear Online customer service. This is Emma, your virtual assistant. I can help you track orders, process returns, answer product questions, or resolve any issues. How can I assist you today?",
               "systemPrompt": "You are Emma, the friendly customer service representative for TechGear Online. Listen to the customer'\''s response and determine their inquiry type: order_tracking, return_exchange, product_inquiry, billing_payment, complaint, or general. Keep responses friendly and under 35 words.",
               "extractVariables": [
                 {
                   "name": "inquiry_type",
                   "type": "string",
                   "description": "The customer'\''s inquiry type",
                   "enum": ["order_tracking", "return_exchange", "product_inquiry", "billing_payment", "complaint", "general"]
                 }
               ]
             }
           ],
           "edges": []
         }'
    ```
  </Tab>
  <Tab title="Server SDK + Python">
    ```python
    import requests

    def create_ecommerce_workflow():
        url = "https://api.vapi.ai/workflow"
        headers = {
            "Authorization": f"Bearer {YOUR_VAPI_API_KEY}",
            "Content-Type": "application/json"
        }
        
        data = {
            "name": "TechGear E-commerce Support Workflow",
            "nodes": [
                {
                    "id": "greeting",
                    "type": "conversation",
                    "firstMessage": "Hello! Thank you for calling TechGear Online customer service. This is Emma, your virtual assistant. I can help you track orders, process returns, answer product questions, or resolve any issues. How can I assist you today?",
                    "systemPrompt": "You are Emma, the friendly customer service representative for TechGear Online. Listen to the customer's response and determine their inquiry type: order_tracking, return_exchange, product_inquiry, billing_payment, complaint, or general. Keep responses friendly and under 35 words.",
                    "extractVariables": [
                        {
                            "name": "inquiry_type",
                            "type": "string",
                            "description": "The customer's inquiry type",
                            "enum": ["order_tracking", "return_exchange", "product_inquiry", "billing_payment", "complaint", "general"]
                        }
                    ]
                }
            ],
            "edges": []
        }
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()

    # Create the workflow
    workflow = create_ecommerce_workflow()
    print(f"Workflow created with ID: {workflow['id']}")
    ```
  </Tab>
  <Tab title="Server SDK + TypeScript">
    ```typescript
    import { Vapi } from "@vapi-ai/server-sdk";

    const vapi = new Vapi({ apiKey: "YOUR_VAPI_API_KEY" });

    const workflow = await vapi.workflows.create({
      name: "TechGear E-commerce Support Workflow",
      nodes: [
        {
          id: "greeting",
          type: "conversation",
          firstMessage: "Hello! Thank you for calling TechGear Online customer service. This is Emma, your virtual assistant. I can help you track orders, process returns, answer product questions, or resolve any issues. How can I assist you today?",
          systemPrompt: "You are Emma, the friendly customer service representative for TechGear Online. Listen to the customer's response and determine their inquiry type: order_tracking, return_exchange, product_inquiry, billing_payment, complaint, or general. Keep responses friendly and under 35 words.",
          extractVariables: [
            {
              name: "inquiry_type",
              type: "string", 
              description: "The customer's inquiry type",
              enum: ["order_tracking", "return_exchange", "product_inquiry", "billing_payment", "complaint", "general"]
            }
          ]
        }
      ],
      edges: []
    });

    console.log(`Workflow created with ID: ${workflow.id}`);
    ```
  </Tab>
</Tabs>

---

## 4. Build the Workflow

You'll start with a default template that includes a "Call Start" node. We'll modify the existing nodes and add new ones to create our e-commerce customer service workflow.

<Steps>
  <Step title="Configure the Initial Conversation Node">
    The default template includes a conversation node. Click on it and configure:
    
    **Node Name**: `greeting_and_inquiry_type`
    
    **Prompt**:
    ```txt
    You are Emma, the friendly customer service representative for TechGear Online.

    Start with: "Hello! Thank you for calling TechGear Online customer service. This is Emma, your virtual assistant. I can help you track orders, process returns, answer product questions, or resolve any issues. How can I assist you today?"

    Listen to the customer's response and determine their inquiry type:
    - "order_tracking" for checking order status or shipping
    - "return_exchange" for returns, exchanges, or refunds
    - "product_inquiry" for product questions or recommendations
    - "billing_payment" for payment or billing issues
    - "complaint" for problems or complaints
    - "general" for other inquiries

    Keep responses friendly and under 35 words.
    ```

    **Extract Variables**:
    - Variable: `inquiry_type`
    - Type: `String`
    - Description: `The customer's inquiry type`
    - Enum Values: `order_tracking`, `return_exchange`, `product_inquiry`, `billing_payment`, `complaint`, `general`
  </Step>

  <Step title="Add Customer Identification Node">
    Add a **Conversation** node:
    
    **Node Name**: `customer_identification`
    
    **Prompt**:
    ```txt
    I'll be happy to help you with that. To look up your account, can you please provide your phone number or email address associated with your TechGear Online account?

    If you don't have an account, that's okay - I can still help you with general product questions.
    ```

    **Variable Extraction**:
    - Variable: `customer_phone`
    - Type: `string`
    - Description: `Customer's phone number`
    - Required: `false`
    - Variable: `customer_email`
    - Type: `string`
    - Description: `Customer's email address`
    - Required: `false`
  </Step>

  <Step title="Add Customer Lookup Tool Node">
    Add a **Tool** node:
    
    **Tool**: Select your pre-configured "Customer Lookup" tool from the dropdown. This tool should be created in the **Tools** section of your dashboard with:
    - **Function Name**: `lookup_customer`
    - **Description**: "Look up customer account and order history"
    - **Parameters**: 
      - `customer_id` (string): Customer ID to lookup
    - **Server URL**: `https://jsonplaceholder.typicode.com/users`
  </Step>

  <Step title="Add Inquiry-Based Routing">
    Create branching paths based on the customer's inquiry type. Add multiple conversation nodes:

    **Order Tracking Node**:
    - **Node Name**: `order_tracking_flow`
    - **Prompt**: `I can help you track your order. Do you have your order number, or would you like me to look up your recent orders?`

    **Return/Exchange Node**:
    - **Node Name**: `return_exchange_flow`
    - **Prompt**: `I can help you with returns and exchanges. Can you tell me which item you'd like to return and the reason for the return?`

    **Product Inquiry Node**:
    - **Node Name**: `product_inquiry_flow`
    - **Prompt**: `I'd be happy to help with product information. What specific product are you interested in, or what type of device are you looking for?`

    **Billing/Payment Node**:
    - **Node Name**: `billing_payment_flow`
    - **Prompt**: `I can help with billing and payment questions. Are you looking to update payment information, dispute a charge, or have questions about a specific order?`

    **Complaint Resolution Node**:
    - **Node Name**: `complaint_resolution_flow`
    - **Prompt**: `I'm sorry to hear you're having an issue. I want to make this right for you. Can you tell me what happened so I can help resolve this?`
  </Step>

  <Step title="Configure Flow Conditions">
    Connect the nodes with conditions for the LLM to interpret:

    **From greeting_and_inquiry_type to order_tracking_flow**:
    - Condition: `{{ inquiry_type == "order_tracking" }}`

    **From greeting_and_inquiry_type to return_exchange_flow**:
    - Condition: `{{ inquiry_type == "return_exchange" }}`

    **From greeting_and_inquiry_type to product_inquiry_flow**:
    - Condition: `{{ inquiry_type == "product_inquiry" }}`

    **From greeting_and_inquiry_type to billing_payment_flow**:
    - Condition: `{{ inquiry_type == "billing_payment" }}`

    **From greeting_and_inquiry_type to complaint_resolution_flow**:
    - Condition: `{{ inquiry_type == "complaint" }}`
  </Step>

  <Step title="Add Global VIP Customer Handler">
    Create a global node that provides special handling for VIP customers:
    
    **Node Name**: `vip_customer_handler`
    **Global Node**: `enabled = true`
    **Enter Condition**: `{{ customer_tier == "VIP" or total_orders > 50 or lifetime_value > 5000 }}`
    
    **Prompt**:
    ```txt
    I see you're one of our valued VIP customers. I want to make sure you receive our highest level of service today. Let me prioritize your request and see what I can do to exceed your expectations.
    ```
    
    This global node will activate for high-value customers, regardless of their inquiry type.
  </Step>

  <Step title="Add Order Tracking Flow">
    For the order tracking path, add these nodes:

    **Order Number Collection Node**:
    - **Node Name**: `collect_order_number`
    - Extract order number or use recent orders from customer history

    **Order Status Tool Node**:
    - Add a **Tool** node that calls your order tracking API with order information

    **Shipping Information Node**:
    - **Node Name**: `provide_shipping_info`
    - Present tracking details, delivery estimates, and shipping updates
  </Step>

  <Step title="Add Return Processing Flow">
    **Return Eligibility Check Node**:
    - **Node Name**: `check_return_eligibility`
    - Verify return policy compliance and item condition

    **Return Authorization Tool Node**:
    - Add a **Tool** node that creates return label and authorization number

    **Refund Processing Node**:
    - **Node Name**: `process_refund`
    - Handle refund calculations and payment processing
  </Step>

  <Step title="Add Escalation and Resolution Options">
    **Human Agent Transfer Node**:
    - **Node Type**: `Transfer`
    - **Destination**: `+1-555-SUPPORT` (customer service team)

    **Issue Resolution Node**:
    - **Node Name**: `resolve_issue`
    - Provide solutions, credits, or compensations

    **End Call Node**:
    - **Node Type**: `Hangup`
    - Use when customer issue is resolved
  </Step>
</Steps>

---

## 5. Configure Phone Number

<Tabs>
  <Tab title="Dashboard">
    <Steps>
      <Step title="Navigate to Phone Numbers">
        Click `Phone Numbers` in the left sidebar of your dashboard.
      </Step>
      <Step title="Create or Import Phone Number">
        - Click `Create Phone Number` for a new Vapi number, or
        - Click `Import Phone Number` to use your existing customer service number
      </Step>
      <Step title="Configure Inbound Settings">
        **Workflow**: Select your `TechGear Customer Service Workflow`
        
        **Customer Service Configuration**:
        - Enable call recording for quality assurance
        - Set maximum call duration (e.g., 30 minutes for complex issues)
        - Configure voicemail for after-hours support
        - Enable priority routing for VIP customers
      </Step>
      <Step title="Test Customer Service Scenarios">
        Test the workflow with various customer scenarios:
        - Order tracking requests
        - Return and exchange processing
        - Product inquiries and recommendations
        - Billing and payment issues
        - Complaint resolution
      </Step>
    </Steps>
  </Tab>
  <Tab title="cURL">
    ```bash
    # Create phone number with workflow
    curl -X POST https://api.vapi.ai/phone-number \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "name": "TechGear Customer Service Line",
           "workflowId": "YOUR_WORKFLOW_ID",
           "inboundSettings": {
             "maxCallDurationMinutes": 30,
             "recordingEnabled": true,
             "voicemailDetectionEnabled": true,
             "priorityRouting": true
           }
         }'

    # Test order tracking scenario
    curl -X POST https://api.vapi.ai/call \
         -H "Authorization: Bearer YOUR_VAPI_API_KEY" \
         -H "Content-Type: application/json" \
         -d '{
           "workflowId": "YOUR_WORKFLOW_ID",
           "customer": {
             "number": "+1234567890",
             "name": "Test Customer"
           }
         }'
    ```
  </Tab>
  <Tab title="Server SDK + Python">
    ```python
    def create_ecommerce_phone_number(workflow_id):
        url = "https://api.vapi.ai/phone-number"
        headers = {
            "Authorization": f"Bearer {YOUR_VAPI_API_KEY}",
            "Content-Type": "application/json"
        }
        
        data = {
            "name": "TechGear Customer Service Line",
            "workflowId": workflow_id,
            "inboundSettings": {
                "maxCallDurationMinutes": 30,
                "recordingEnabled": True,
                "voicemailDetectionEnabled": True,
                "priorityRouting": True
            }
        }
        
        response = requests.post(url, headers=headers, json=data)
        return response.json()

    def test_ecommerce_scenarios(workflow_id):
        scenarios = [
            {"customer": {"number": "+1234567890", "name": "Order Tracking Customer"}},
            {"customer": {"number": "+1234567891", "name": "Return Customer"}},
            {"customer": {"number": "+1234567892", "name": "Billing Issue Customer"}}
        ]
        
        for scenario in scenarios:
            url = "https://api.vapi.ai/call"
            headers = {
                "Authorization": f"Bearer {YOUR_VAPI_API_KEY}",
                "Content-Type": "application/json"
            }
            
            data = {
                "workflowId": workflow_id,
                **scenario
            }
            
            response = requests.post(url, headers=headers, json=data)
            result = response.json()
            print(f"Test call for {scenario['customer']['name']}: {result['id']}")

    # Create phone number and test scenarios
    phone_number = create_ecommerce_phone_number(workflow_id)
    test_ecommerce_scenarios(workflow_id)

    print(f"Customer service number: {phone_number['number']}")
    ```
  </Tab>
  <Tab title="Server SDK + TypeScript">
    ```typescript
    async function createEcommercePhoneNumber(workflowId: string) {
      const phoneNumber = await vapi.phoneNumbers.create({
        name: "TechGear Customer Service Line",
        workflowId: workflowId,
        inboundSettings: {
          maxCallDurationMinutes: 30,
          recordingEnabled: true,
          voicemailDetectionEnabled: true,
          priorityRouting: true
        }
      });

      return phoneNumber;
    }

    async function testEcommerceScenarios(workflowId: string) {
      const scenarios = [
        { customer: { number: "+1234567890", name: "Order Tracking Customer" }},
        { customer: { number: "+1234567891", name: "Return Customer" }},
        { customer: { number: "+1234567892", name: "Billing Issue Customer" }}
      ];

      for (const scenario of scenarios) {
        const call = await vapi.calls.create({
          workflowId: workflowId,
          ...scenario
        });
        
        console.log(`Test call for ${scenario.customer.name}: ${call.id}`);
      }
    }

    // Create phone number and test scenarios
    const phoneNumber = await createEcommercePhoneNumber(workflowId);
    await testEcommerceScenarios(workflowId);

    console.log(`Customer service number: ${phoneNumber.number}`);
    ```
  </Tab>
</Tabs>

## Integrating with Real Systems

This example uses JSONPlaceholder for demonstration purposes. To integrate with your actual e-commerce systems:

### E-commerce Platform Integration
- **Shopify**: Use the [Shopify Admin API](https://shopify.dev/api/admin-rest) for customer and order data
- **WooCommerce**: Use the [WooCommerce REST API](https://woocommerce.github.io/woocommerce-rest-api-docs/)
- **Magento**: Use the [Magento Web API](https://devdocs.magento.com/guides/v2.4/get-started/web-api-functional-testing.html)

### Shipping Provider APIs
- **FedEx**: [FedEx Web Services](https://www.fedex.com/en-us/developer/web-services.html)
- **UPS**: [UPS Developer Kit](https://www.ups.com/upsdeveloperkit)
- **USPS**: [USPS Web Tools](https://www.usps.com/business/web-tools-apis/)

### Payment Processing
- **Stripe**: [Stripe API](https://stripe.com/docs/api)
- **PayPal**: [PayPal Developer](https://developer.paypal.com/)
- **Square**: [Square API](https://developer.squareup.com/)

## Next Steps

Just like that, you've built an e-commerce customer service workflow that can handle order inquiries, returns, and support requests with 24/7 availability for your online store.

Consider reading the following guides to further enhance your workflow:

* [**Custom Tools**](/tools/custom-tools) - Create custom tools for e-commerce platform integration and order management.
* [**Custom Voices**](/customization/custom-voices/custom-voice) - Customize your assistant's voice for customer service excellence.
* [**Call Recording**](/assistants/call-recording) - Record calls for quality assurance and training purposes. 
