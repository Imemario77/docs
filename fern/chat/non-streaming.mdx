---
title: Non-streaming chat
subtitle: Simple request-response chat patterns with complete responses
---

## Overview

Non-streaming chat returns the complete response after the assistant finishes processing. This is ideal for simple integrations where you don't need real-time output.

Benefits:
- **Simple integration** - Single request, single response
- **Complete responses** - Get the full message at once  
- **Lower complexity** - No need to handle streaming events
- **Better for batch processing** - Process multiple requests sequentially

## Basic example

```bash
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "assistantId": "your-assistant-id",
    "input": "What is the weather like today?"
  }'
```

### JavaScript implementation

```javascript
const response = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    assistantId: 'your-assistant-id',
    input: 'What is the weather like today?'
  })
});

const chat = await response.json();
console.log(chat.output[0].content); // Assistant's response
```

## Response structure

```javascript
{
  "id": "chat_123456",
  "orgId": "org_789012",
  "assistantId": "assistant_345678",
  "name": "Weather Chat",
  "sessionId": "session_901234",
  "messages": [
    {
      "role": "user",
      "content": "What is the weather like today?"
    }
  ],
  "output": [
    {
      "role": "assistant",
      "content": "I'd be happy to help with weather information, but I'll need to know your location first. What city are you in?"
    }
  ],
  "createdAt": "2024-01-15T09:30:00Z",
  "updatedAt": "2024-01-15T09:30:01Z"
}
```

## Custom assistant configuration

Pass assistant configuration inline instead of using a pre-created assistant:

```bash
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "Help me plan a trip to Paris",
    "assistant": {
      "model": {
        "provider": "openai",
        "model": "gpt-4",
        "temperature": 0.7,
        "messages": [
          {
            "role": "system",
            "content": "You are a helpful travel assistant specializing in European destinations."
          }
        ]
      },
      "voice": {
        "provider": "azure",
        "voiceId": "andrew"
      }
    }
  }'
```

### JavaScript with custom assistant

```javascript
const response = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    input: 'Help me plan a trip to Paris',
    assistant: {
      model: {
        provider: 'openai',
        model: 'gpt-4',
        temperature: 0.7,
        messages: [
          {
            role: 'system',
            content: 'You are a helpful travel assistant specializing in European destinations.'
          }
        ]
      },
      voice: {
        provider: 'azure',
        voiceId: 'andrew'
      }
    }
  })
});

const chat = await response.json();
console.log(chat.output[0].content);
```

## Context management

### Using sessions

Sessions allow multiple chats to share the same context:

```bash
# Create a session first
curl -X POST https://api.vapi.ai/session \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "assistantId": "your-assistant-id"
  }'
```

```bash
# Use the session for multiple chats
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "sessionId": "session_abc123",
    "input": "My name is Alice"
  }'
```

```bash
# Continue the conversation
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "sessionId": "session_abc123",
    "input": "What is my name?"
  }'
```

### JavaScript session example

```javascript
// Create a session
const sessionResponse = await fetch('https://api.vapi.ai/session', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    assistantId: 'your-assistant-id'
  })
});

const session = await sessionResponse.json();

// Use the session for multiple chats
const chat1 = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    sessionId: session.id,
    input: 'My name is Alice'
  })
});

const chat1Data = await chat1.json();
console.log(chat1Data.output[0].content); // "Nice to meet you, Alice!"

const chat2 = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    sessionId: session.id,
    input: 'What is my name?' // Assistant will remember "Alice"
  })
});

const chat2Data = await chat2.json();
console.log(chat2Data.output[0].content); // "Your name is Alice."
```

### Using previous chat

Link chats together without creating a session:

```bash
# First chat
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "assistantId": "your-assistant-id",
    "input": "I need help with Python programming"
  }'
```

```bash
# Continue conversation with previous chat ID
curl -X POST https://api.vapi.ai/chat \
  -H "Authorization: Bearer YOUR_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "assistantId": "your-assistant-id",
    "previousChatId": "chat_abc123",
    "input": "Show me how to create a list"
  }'
```

### JavaScript previous chat example

```javascript
// First chat
const firstChat = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    assistantId: 'your-assistant-id',
    input: 'I need help with Python programming'
  })
});

const firstChatData = await firstChat.json();

// Continue conversation
const secondChat = await fetch('https://api.vapi.ai/chat', {
  method: 'POST',
  headers: {
    'Authorization': 'Bearer YOUR_API_KEY',
    'Content-Type': 'application/json'
  },
  body: JSON.stringify({
    assistantId: 'your-assistant-id',
    previousChatId: firstChatData.id,
    input: 'Show me how to create a list'
  })
});

const secondChatData = await secondChat.json();
console.log(secondChatData.output[0].content);
```

## Message types

### User message
```javascript
{
  "role": "user",
  "content": "Hello, how are you?",
  "name": "Alice" // Optional
}
```

### Assistant message
```javascript
{
  "role": "assistant",
  "content": "I'm doing well, thank you!",
  "tool_calls": [...], // Optional tool calls
  "refusal": null // Optional refusal message
}
```

### System message
```javascript
{
  "role": "system",
  "content": "You are a helpful assistant specializing in technical support."
}
```

### Tool message
```javascript
{
  "role": "tool",
  "content": "Weather data retrieved successfully",
  "tool_call_id": "call_123456"
}
```

### Developer message
```javascript
{
  "role": "developer",
  "content": "Always be concise in your responses."
}
```

## Best practices

<Tip>
**When to use non-streaming**
- Simple chatbots or FAQ systems
- Batch processing of messages
- When you need the complete response before proceeding
- Integrations where real-time display isn't important
</Tip>

<Note>
**Performance considerations**
- Responses may take longer for complex queries
- Use streaming for better user experience with long responses
- Consider timeout settings for your requests
</Note>

## Next steps

- Try [streaming chat](/docs/chat/streaming) for real-time responses
- Explore [OpenAI compatibility](/docs/chat/openai-compatibility) for existing integrations  
- View the [API reference](/api-reference/chats/chat-controller-create-chat) for all parameters
- Learn about [assistants](/docs/assistants) to customize behavior 
